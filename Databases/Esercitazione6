-- Esercizio 1
EXPLAIN(SELECT CS.nome
FROM CorsoStudi AS CS
WHERE CS.nome ILIKE '%informatica')

-- Con indice
CREATE INDEX CS_nome_index ON CorsoStudi(nome varchar_pattern_ops);
ANALYZE CorsoStudi
EXPLAIN(SELECT CS.nome
FROM CorsoStudi AS CS
WHERE CS.nome ILIKE '%informatica')

-- Risposta: non cambia nulla, non si può utilizzare l'indice

-- Esercizio 2
EXPLAIN(SELECT I.nomeins
FROM Insegn AS I
WHERE I.nomeins LIKE 'Teoria%')

-- Con indice
CREATE INDEX I_nomeins ON Insegn(nomeins varchar_pattern_ops);
ANALYZE Insegn;

-- Esercizio 3
EXPLAIN
SELECT I.nomeins, IE.id_facolta
FROM InsErogato AS IE JOIN Insegn AS I ON IE.id_insegn = I.id
WHERE IE.annoaccademico = '2013/2014'

-- Con indice
CREATE INDEX IE_id_insegn ON InsErogato(id_insegn) 
CREATE INDEX IE_annoaccademico ON InsErogato USING hash(annoaccademico) 
ANALYZE InsErogato

-- Esercizio 4
EXPLAIN
SELECT CS.nome, CS.codice, CS.abbreviazione
FROM CorsoStudi AS CS
WHERE CS.nome ILIKE '%lingue%'

-- Con indice
-- Non usa l'indice anche se è già definito dal punto

-- Esercizio 5
EXPLAIN
SELECT
FROM
WHERE

-- Con indice